<% provide(:title, "Products List") %>

<% if notice %>
    <div class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <%= notice %>
    </div>
<% end %>

<div class="center jumbotron">
    <div class="row">
        <div class="col-md-3 add-new-products">
            <%= link_to 'Add New Products', new_product_path, class: "btn btn-primary btn-sm" %>
        </div>
        <div class="col-md-6">
            <h1>Products List</h1>
        </div>
    </div>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Reference</th>
                    <th scope="col">Name</th>
                    <th scope="col">Category</th>
                    <th scope="col">Price</th>
                    <th scope="col" colspan="2">Actions</th>
                </tr>
            </thead>
            <tbody>
                <% @products.each do |p| %>
                    <tr>
                        <th scope="row"> <%= p.reference %> </td>
                        <td><%= p.name %> </td>
                        <td><%= p.category %> </td>
                        <td><%= p.price %> </td>
                        <td class="edit">
                            <%= link_to 'Edit', edit_product_path(p), class: "btn btn-primary btn-sm" %>
                        </td>
                        <td class="delete">
                            <%= link_to 'Destroy', p, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger btn-sm" %>
                        </td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </table>
</div>